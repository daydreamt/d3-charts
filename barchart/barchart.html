<!DOCTYPE HTML>
    <html>
        <head>
            <title>A bar chart with d3.</title>
            <script type="text/javascript" src="http://d3js.org/d3.v2.js"></script>
            <style type="text/css">

                
                .bar {
                    fill: #543B5E;
                    stroke: white;
                    
                }
                .bar:hover {
                    stroke:black;
                }
                
                
                .axis line {
				fill: none;
				stroke: black;
				shape-rendering: crispEdges;
                                
                                
                                
                                
			}
                
                #container {
                    margin: 10px;
                    padding:10px;
                    border: 10px;
                    
                }
                
                svg {
                    margin:10px; 
                    padding:10px;
                    border:10px
                }
                
                

                
                
            </style>
        </head>
        
        <body>
            
            <p>The y axis variable has to be numeric, right?
            Also, no random value script for this one.</p>
            
            <div id="container"></div>
            <script type="text/javascript">
                
                var data;
                var xAxisName;
                var yAxisName;
                d3.json("JSON", function (json) {
                    data = json.users;
                    xAxisName = "users";
                    yAxisName = "fantasticness"; //these will be read automatically
                    console.log("daydreamt is the greatest, after all.");
                    //but this will probably always be printed
                    visualize(data);
                    
                });
                
                function visualize (data) {
                    //dimensions
                    var w = 700;
                    var h = 400;
                    var padding = 10;
                    
                    //the svg
                    var svg = d3.select("#container")
                                .append("svg")
                                .attr("class", "chart")
                                .attr("width", w)
                                .attr("height", h);
                                
                    //the scales
                    var xScale = d3.scale.ordinal()
                                    .domain(d3.range(data.length))
                                    .rangeRoundBands([  padding, w - padding], 0.03);
                                    
                    var yScale = d3.scale.linear()
                                        .domain([0, d3.max(data, function(d) { return d.score;})])
                                        .range([padding , h - padding]);
                    
                    //the axes
                    var xAxis = d3.svg.axis().scale(xScale).orient("bottom").ticks(3);
                    var yAxis = d3.svg.axis().scale(yScale).orient("left").ticks(3);
                    
                    
                    
                                    
                    //add the data and bars
                    svg.selectAll("rect")
                        .data(data)
                        .enter()
                        .append("rect")
                        .attr("x", function(d, i) { return xScale(i);})
                        .attr("y", function(d) { return h - yScale(d.score);})
                        .attr("width", xScale.rangeBand())
                        .attr("height", function(d) {
                            return yScale(d.score);
                        })
                        .attr("class", "bar");
    
                    //create axes
                    svg.append("g").attr("class", "Axis")
                        .attr("transform", "translate(0," + (h - padding ) + ")")
                        .call(xAxis);
                        
                    svg.append("g").attr("class", "Axis")
                        .attr("transform", "translate(" + padding + ")")
                        .call(yAxis);     
                    }
                
                
                
            </script>
        </body>
        
        
        
        
    </html>